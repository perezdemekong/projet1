<div class="md:px-10 px-5 py-8">

    <app-breadscrumb [breadcrumb]="breadscrumbs"></app-breadscrumb>

    <!-- Heading -->
    <app-page-heading *ngIf="!loading && doctor" [title]="name">

        <app-toggle (click)="updateStatus()" [toggled]="doctor.is_active" [backgroundClass]="!doctor.is_active ? 'bg-gray-400' : 'bg-secondary'"></app-toggle>
        
        <div presentation class="flex max-w-full overflow-x-auto">

            <div class="flex gap-2 5 p-2.5 whitespace-nowrap">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5">
                    <path fill-rule="evenodd" d="M1.5 4.5a3 3 0 013-3h1.372c.86 0 1.61.586 1.819 1.42l1.105 4.423a1.875 1.875 0 01-.694 1.955l-1.293.97c-.135.101-.164.249-.126.352a11.285 11.285 0 006.697 6.697c.103.038.25.009.352-.126l.97-1.293a1.875 1.875 0 011.955-.694l4.423 1.105c.834.209 1.42.959 1.42 1.82V19.5a3 3 0 01-3 3h-2.25C8.552 22.5 1.5 15.448 1.5 6.75V4.5z" clip-rule="evenodd" />
                </svg>                  
                <p class="text-sm">{{doctor.phone_number}}</p>                  
            </div>

            <div class="flex gap-2 5 p-2.5 whitespace-nowrap items-center">
                <svg class="w-5 h-5" aria-hidden="true" viewBox="0 0 20 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M9.99984 3L1.6665 10.5H4.1665V17.1667H15.8332V10.5H18.3332L9.99984 3ZM9.99984 7.79167C10.4971 7.79167 10.974 7.98921 11.3257 8.34084C11.6773 8.69247 11.8748 9.16939 11.8748 9.66667C11.8748 10.1639 11.6773 10.6409 11.3257 10.9925C10.974 11.3441 10.4971 11.5417 9.99984 11.5417C9.50256 11.5417 9.02564 11.3441 8.67401 10.9925C8.32238 10.6409 8.12484 10.1639 8.12484 9.66667C8.12484 9.16939 8.32238 8.69247 8.67401 8.34084C9.02564 7.98921 9.50256 7.79167 9.99984 7.79167ZM9.99984 13C11.2498 13 13.7498 13.625 13.7498 14.875V15.5H6.24984V14.875C6.24984 13.625 8.74984 13 9.99984 13Z" fill="#111111"/>
                </svg>                                    
                <p class="text-sm">{{doctor.address}}</p>                  
            </div>

            <div class="flex gap-2 5 p-2.5 whitespace-nowrap">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5">
                    <path fill-rule="evenodd" d="M17.834 6.166a8.25 8.25 0 100 11.668.75.75 0 011.06 1.06c-3.807 3.808-9.98 3.808-13.788 0-3.808-3.807-3.808-9.98 0-13.788 3.807-3.808 9.98-3.808 13.788 0A9.722 9.722 0 0121.75 12c0 .975-.296 1.887-.809 2.571-.514.685-1.28 1.179-2.191 1.179-.904 0-1.666-.487-2.18-1.164a5.25 5.25 0 11-.82-6.26V8.25a.75.75 0 011.5 0V12c0 .682.208 1.27.509 1.671.3.401.659.579.991.579.332 0 .69-.178.991-.579.3-.4.509-.99.509-1.671a8.222 8.222 0 00-2.416-5.834zM15.75 12a3.75 3.75 0 10-7.5 0 3.75 3.75 0 007.5 0z" clip-rule="evenodd" />
                </svg>                               
                <p class="text-sm">{{doctor.email}}</p>                  
            </div>

            <div class="flex gap-2 5 p-2.5 whitespace-nowrap">
                <!-- <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5" [ngClass]="'actif' | checkUserStatusColor">
                    <path stroke-linecap="round" stroke-linejoin="round" [attr.d]="'actif' | checkUserStatusSvgdf" />
                </svg>  -->
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5" [ngClass]="{'stroke-red-500': !doctor.is_active, 'stroke-primary-500': doctor.is_active}">
                    <path *ngIf="doctor.is_active" stroke-linecap="round" stroke-linejoin="round" d='M4.5 12.75l6 6 9-13.5' />
                    <path *ngIf="!doctor.is_active" stroke-linecap="round" stroke-linejoin="round" d='M6 18L18 6M6 6l12 12' />
                </svg>                     
                <p class="capitalize text-sm">actif</p>                  
            </div>

            <div class="flex gap-2 5 p-2.5 whitespace-nowrap">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5">
                    <path fill-rule="evenodd" d="M6.75 2.25A.75.75 0 017.5 3v1.5h9V3A.75.75 0 0118 3v1.5h.75a3 3 0 013 3v11.25a3 3 0 01-3 3H5.25a3 3 0 01-3-3V7.5a3 3 0 013-3H6V3a.75.75 0 01.75-.75zm13.5 9a1.5 1.5 0 00-1.5-1.5H5.25a1.5 1.5 0 00-1.5 1.5v7.5a1.5 1.5 0 001.5 1.5h13.5a1.5 1.5 0 001.5-1.5v-7.5z" clip-rule="evenodd" />
                </svg>                                
                <p class="capitalize text-sm">inscrit le {{doctor.created_at| date: 'dd MMMM yyyy'}}</p>                  
            </div>

            <div *ngIf="doctor.is_active" class="flex gap-2 5 p-2.5 whitespace-nowrap">
                <svg class="w-5 h-5" aria-hidden="true" viewBox="0 0 20 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <g clip-path="url(#clip0_1985_11638)">
                    <path d="M5.8335 10.5L8.3335 13L14.1668 7.16671M16.6668 13C15.8335 13.8334 17.7085 16.125 16.6668 17.1667C15.6252 18.2084 13.3335 16.3334 12.5002 17.1667C11.6668 18 11.2502 19.6667 10.0002 19.6667C8.75016 19.6667 8.3335 18 7.50016 17.1667C6.66683 16.3334 4.37516 18.2084 3.3335 17.1667C2.29183 16.125 4.16683 13.8334 3.3335 13C2.50016 12.1667 0.833496 11.75 0.833496 10.5C0.833496 9.25004 2.50016 8.83337 3.3335 8.00004C4.16683 7.16671 2.29183 4.87504 3.3335 3.83337C4.37516 2.79171 6.66683 4.66671 7.50016 3.83337C8.3335 3.00004 8.75016 1.33337 10.0002 1.33337C11.2502 1.33337 11.6668 3.00004 12.5002 3.83337C13.3335 4.66671 15.6252 2.79171 16.6668 3.83337C17.7085 4.87504 15.8335 7.16671 16.6668 8.00004C17.5002 8.83337 19.1668 9.25004 19.1668 10.5C19.1668 11.75 17.5002 12.1667 16.6668 13Z" stroke="#27DEBF" stroke-width="1.66667"/>
                    </g>
                    <defs>
                    <clipPath id="clip0_1985_11638">
                    <rect width="20" height="20" fill="white" transform="translate(0 0.5)"/>
                    </clipPath>
                    </defs>
                </svg>                                     
                <p class="capitalize text-sm">Validé</p>                  
            </div>

            <div *ngIf="!doctor.is_active" class="flex gap-2 5 p-2.5 whitespace-nowrap">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5 fill-red-600">
                    <path fill-rule="evenodd" d="M11.484 2.17a.75.75 0 011.032 0 11.209 11.209 0 007.877 3.08.75.75 0 01.722.515 12.74 12.74 0 01.635 3.985c0 5.942-4.064 10.933-9.563 12.348a.749.749 0 01-.374 0C6.314 20.683 2.25 15.692 2.25 9.75c0-1.39.223-2.73.635-3.985a.75.75 0 01.722-.516l.143.001c2.996 0 5.718-1.17 7.734-3.08zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zM12 15a.75.75 0 00-.75.75v.008c0 .414.336.75.75.75h.008a.75.75 0 00.75-.75v-.008a.75.75 0 00-.75-.75H12z" clip-rule="evenodd" />
                </svg>                                  
                <p class="capitalize text-sm">Non alidé</p>                  
            </div>
              

            <!-- <button type="button" (click)="toggleValidateDoctorAccountForm()" class="flex gap-2 5 p-2.5 whitespace-nowrap">
                <svg class="w-5 h-5" aria-hidden="true" viewBox="0 0 20 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M14.0335 2.77502C13.7085 2.77502 13.3918 2.90002 13.1418 3.14169L11.3752 4.90836L15.7918 9.33336L17.5585 7.58336C18.0585 7.07502 18.0585 6.28336 17.5585 5.80002L14.9168 3.14169C14.6668 2.90002 14.3502 2.77502 14.0335 2.77502ZM10.7835 5.50002L4.0335 12.2584L6.16683 12.4917L6.31683 14.4L8.21683 14.5417L8.4585 16.675L15.2085 9.91669M3.54183 13.0334L2.0835 18.6084L7.66683 17.1167L7.46683 15.3167L5.54183 15.175L5.39183 13.2417" fill="#111111"/>
                </svg>                             
            </button> -->

        </div>

    </app-page-heading>

    <!-- Heading Loader -->
    <div *ngIf="loading" class="w-full flex flex-col">
        <div class="w-20">
            <ngx-skeleton-loader [theme]="{height: '32px'}"></ngx-skeleton-loader>
        </div>

        <div class="">
            <ngx-skeleton-loader [theme]="{height: '44px'}"></ngx-skeleton-loader>
        </div>
    </div>

    <!-- Routing -->
    <div class="">
        <div class="mb-5">
            <app-menu-tabs [class]="'!items-start'" [tabs]="menuTabs"></app-menu-tabs>
        </div>

        <router-outlet></router-outlet>
    </div>

</div>

<!-- Validate doctor account form -->
<app-modal [visible]="validateDoctorAccountForm" position="fixed" class="my-auto lg:min-w-[800px] md:min-w-[600px] sm:min-w-[300px]">
    <div class="bg-white rounded-3xl">
        <div class="flex justify-end px-3.5 pb-3 mb-3 border-b border-gray-100">
            <button (click)="toggleValidateDoctorAccountForm()">
                <svg aria-hidden="true" class="w-6 h-6" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M6.4 19L5 17.6L10.6 12L5 6.4L6.4 5L12 10.6L17.6 5L19 6.4L13.4 12L19 17.6L17.6 19L12 13.4L6.4 19Z" fill="#111111"/>
                </svg>   
            </button>                 
        </div>

        <h3 class="font-bold text-2xl">Validation du profil</h3>

        <form class="mt-6">

            <app-textarea placeholder="Entrez un commentaire" labelFor="praticianMessage" label="praticianMessage" name="praticianMessage" [rows]="6" [class]="'w-full'"></app-textarea>

            <div class="flex justify-end mt-4">
                <app-button type="submit" [class]="'text-white bg-secondary hover:bg-secondary focus:ring-secondary float-right'">              
                    Valider le compte
                </app-button>
            </div>
            
        </form>

    </div>
</app-modal>